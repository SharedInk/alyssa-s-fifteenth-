<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Happy Birthday Alyssa</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>

<!-- ENTRY -->
<section id="entry" class="entry">
  <div class="entry-box">
    <h1>HAPPY BIRTHDAY ALYSSA</h1>
    <p>type your name to enter</p>
    <input id="nameInput" placeholder="Alyssa" />
    <button id="enterBtn">Enter</button>
    <p class="tiny">you actually have to type it</p>
  </div>
</section>

<!-- SITE -->
<div id="site" class="hidden">

<header class="topbar">
  <div class="brand">
    <div class="mark"></div>
    <div>
      <div class="title">happy birthday alyssa</div>
      <div class="subtitle">a tiny snoopy-coded site</div>
    </div>
  </div>

  <nav class="nav">
    <button class="tab active" data-page="home">Home</button>
    <button class="tab" data-page="card">Card</button>
    <button class="tab" data-page="game">Game</button>
  </nav>
</header>

<main class="wrap">

<!-- HOME -->
<section id="home" class="page show">
  <div class="panel single">
    <h2>youâ€™re 15!!</h2>
    <p>click anywhere â€” it does something cute</p>

    <!-- Optional Snoopy gif -->
    <img src="snoopy.gif" class="home-gif" alt="snoopy" />

    <p class="tiny">(gif appears once you upload it)</p>
  </div>
</section>

<!-- CARD -->
<section id="card" class="page">
  <div class="panel single">
    <h2>Card</h2>

    <div class="card-preview">
      <p>
Happy birthday Alyssa! You are so young wth but still halfway to 30 (stole a leaf out of Natalieâ€™s book there) anyways I wish 15 treats you well and I know you will accomplish everything you want!

You are actually so incredibly smart and amazing and fun to be around, and youâ€™re also so talented at multiple things and debating â€” I feel like you should acknowledge that wayyy more often.

Im super grateful to have u in the friendgroup especially when it comes to werewolf ha.ha. ha.

ANYWAYS. I HOPE U HAVE AN AMAZING YEAR ILYSM AND BYE!

(Also please try and refresh if this site is not bringing you to any other section apart from this because ive tried to recode this stupid branch multiple times and my coding WONT WORK BRUH. So if this crashes I am very very sory but I aint that advanced for all this sory :)
      </p>

      <p class="sig">â€” you ðŸ’™</p>
    </div>
  </div>
</section>

<!-- GAME -->
<section id="game" class="page">
  <div class="panel single">
    <h2>Mini Game</h2>
    <p>click / tap anywhere to jump</p>

    <canvas id="game" width="800" height="240"></canvas>

    <button id="startGame">Start</button>
    <p class="tiny">try not to hit the clouds</p>
  </div>
</section>

</main>

<footer class="footer">
  <span>this took way too long</span>
</footer>

</div>

<div id="fx"></div>

<script>
/* ENTRY + NAV */
const entry = document.getElementById("entry");
const site = document.getElementById("site");
const nameInput = document.getElementById("nameInput");

document.getElementById("enterBtn").onclick = () => {
  if (!nameInput.value.trim()) return;
  entry.classList.add("hidden");
  site.classList.remove("hidden");
};

document.querySelectorAll(".tab").forEach(btn => {
  btn.onclick = () => {
    document.querySelectorAll(".tab").forEach(b => b.classList.remove("active"));
    document.querySelectorAll(".page").forEach(p => p.classList.remove("show"));
    btn.classList.add("active");
    document.getElementById(btn.dataset.page).classList.add("show");
  };
});

/* CLICK EFFECT */
document.addEventListener("click", e => {
  if (["BUTTON","INPUT","CANVAS"].includes(e.target.tagName)) return;
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = Math.random() < 0.5 ? "ðŸ¾" : "â˜ï¸Ž";
  h.style.left = e.clientX + "px";
  h.style.top = e.clientY + "px";
  document.getElementById("fx").appendChild(h);
  setTimeout(() => h.remove(), 1400);
});

/* MINI GAME */
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let y = 170, vy = 0, obs = 800, running = false;

document.getElementById("startGame").onclick = () => {
  y = 170; vy = 0; obs = 800; running = true;
  loop();
};

document.addEventListener("pointerdown", () => {
  if (y >= 170) vy = -22;
});

function loop(){
  if (!running) return;

  ctx.clearRect(0,0,800,240);

  // gravity
  vy += 1.2;
  y += vy;
  if (y > 170) { y = 170; vy = 0; }

  // obstacle
  obs -= 6;
  if (obs < -30) obs = 800;

  // draw player + obstacle
  ctx.font = "28px system-ui";
  ctx.fillText("ðŸ¶", 80, y);
  ctx.fillText("â˜ï¸Ž", obs, 190);

  // collision
  if (obs < 100 && obs > 50 && y > 150) running = false;

  requestAnimationFrame(loop);
}
</script>

</body>
</html>
